<div layout="row" ng-show="participate()==1 || user.privileges>0" style="height:100%">
  <md-button class="md-fab md-primary" style="position:absolute; right:10px; top:10px;" aria-label="Notifications" ng-click="toggleRight()" ng-show="!isOpenRight()">
          <md-icon class="material-icons">notifications</md-icon>
  </md-button>
  <md-content-flex flex="20" style="position:relative;background-color:gray">
 	  <md-subheader class="md-no-sticky">Rooms</md-subheader>
 	  <md-button ng-click="newRoom($event)" style="background-color:greenyellow">
	  	New room
	  </md-button>
	  <md-list-item ng-click="register(room, $event)" ng-repeat="room in rooms | filter: {team : team.id}">
	    <md-icon class="material-icons">
	    	<span ng-show="room.privateRoom==0">brightness_1</span>
	    	<span ng-show="room.privateRoom==1">stars</span>
	    </md-icon>
	    <p> {{ room.name }}</p>
	    <md-icon ng-show="user.privileges>0 || participateUser.teamPrivileges>0 || room.creator==user.id" ng-class="{'md-primary': person.newMessage}" ng-click="deleteRoom(room, $event)" aria-label="Delete room" class="material-icons md-secondary md-hue-3" style="color: blue;">clear</md-icon>
	  	<md-divider ng-if="!$last"></md-divider>
	  </md-list-item>
	  <md-subheader class="md-no-sticky">Members</md-subheader>
	  <md-list-item class="md-2-line" ng-repeat="user in teamUsers()">
	        <div class="md-list-item-text">
	          <p>{{ user.name }}</p>
	        </div>
      </md-list-item>
      <md-button ng-click="invitePeople($event)" style="background-color:greenyellow">
	  	Invite people
	  </md-button>
      
      <md-button ng-click="leaveTeam($event)" style="background-color:greenyellow">
	   	Leave team
	  </md-button>
	  <md-button ng-show="user.privileges>0 || participateUser.teamPrivileges>0" ng-click="deleteTeam($event)" style="background-color:red">
	   	Delete team
	  </md-button>
	  <a ng-href="#/team/{{team.id}}/admin">
		  <md-button ng-show="user.privileges>0 || participateUser.teamPrivileges==2" style="background-color:purple">
		   	Admin panel
		  </md-button>
	  </a>
  </md-content-flex>
  
  <div flex>
  		
  		<div class="toggler" style="width: 100%;height: 100%; border-top-style:solid" >
			<div id="effect">
			     head
			 	<div>
			 		<strong>Team chat</strong>
			 	</div>
			    <div style="height: 30em;  overflow: scroll;">
			    
			    	<md-list-item ng-repeat="message in chatMessages | filter:{ team: team.id, room: 'main' }">
					     <md-list-item class="md-2-line">
<!-- 						      <img ng-src="{{todos[0].face}}?20" class="md-avatar" alt="{{message.user}}" /> -->
						      <ng-letter-avatar data="{{message.user}}" shape="round"></ng-letter-avatar>
						      <div class="md-list-item-text">
						         <h3>{{message.user}}</h3>
						         <p>{{message.text}}</p>
						         <p>{{message.date}}</p>
						       </div>
						       <md-divider ng-if="!$last"></md-divider>
					      </md-list-item>
					  </md-list-item>			
			        </div>
			        <div class="md-block">
			          		<form autocomplete="off" ng-submit="sendMessage()">
			                <md-input-container md-no-float>
					        	<input ng-model="chatMessage" type="text" placeholder="New message" required>
					        </md-input-container>
							<md-button type="submit" class="md-primary">
						  		Send
							</md-button>
							</form>
			           </div>
    			</div>
  			</div>
</div>
<md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="right">
      <md-toolbar class="md-theme-light">
        <h1 class="md-toolbar-tools">Notifications</h1>
      </md-toolbar>
      <md-content layout-padding>
      	<div ng-show="user.privileges>0 || participateUser.teamPrivileges>0">
      	User		Team
      		 <md-list-item ng-repeat="request in requests()">
    			<p> {{ request.user }} </p>
    			<p>{{ request.team}}</p>
    			<md-button class="md-icon-button" ng-click="acceptRequest(request)" title="Accept request" aria-label="Accept">
    				<i class="material-icons">check_circle</i>
    			</md-button>
    			<md-button class="md-icon-button" ng-click="denyRequest(request)" title="Deny request" aria-label="Deny">
    				<i class="material-icons">cancel</i>
    			</md-button>
 			 </md-list-item>
 			 </br>
 			 Room requests
 			 <md-list-item ng-repeat="request in roomRequests()">
    			<p> {{request.user}} </p>
    			<p>{{request.room}}</p>
    			<md-button class="md-icon-button" ng-click="acceptRoomRequest(request)" title="Accept request" aria-label="Accept">
    				<i class="material-icons">check_circle</i>
    			</md-button>
    			<md-button class="md-icon-button" ng-click="denyRoomRequest(request)" title="Deny request" aria-label="Deny">
    				<i class="material-icons">cancel</i>
    			</md-button>
 			 </md-list-item>
      	</div>
       Room invites
       <md-list-item ng-repeat="invitation in roomInvitations()">
    			<p> {{invitation.user}} </p>
    			<p>{{invitation.room}}</p>
    			<md-button class="md-icon-button" ng-click="acceptRoomInvitation(invitation)" title="Accept invitation" aria-label="Accept">
    				<i class="material-icons">check_circle</i>
    			</md-button>
    			<md-button class="md-icon-button" ng-click="denyRoomInvitation(invitation)" title="Deny invitation" aria-label="Deny">
    				<i class="material-icons">cancel</i>
    			</md-button>
 		</md-list-item>
        <md-button ng-click="close()" class="md-primary">
          Close Sidenav Right
        </md-button>
      </md-content>
    </md-sidenav>
</div>
<div ng-hide="participate()==1">
	You don't participate in this team.
</div>